
const track0ISOAlphabet = Object.fromEntries(Object.entries({
    '0000001': ' ',
    '1000000': '!',
    '0100000': '"',
    '1100001': '#',
    '0010000': '$',
    '1010001': '%',
    '0110001': '&',
    '1110000': '\'',
    '0001000': '(',
    '1001001': ')',
    '0101001': '*',
    '1101000': '+',
    '0011001': ',',
    '1011000': '-',
    '0111000': '.',
    '1001001': '/',
    '0000100': '0',
    '1000101': '1',
    '0100101': '2',
    '1100100': '3',
    '0010101': '4',
    '1010100': '5',
    '0110100': '6',
    '1110101': '7',
    '0001101': '8',
    '1001100': '9',
    '0101100': ':',
    '1101101': ';',
    '0011100': '<',
    '1011101': '=',
    '0111101': '>',
    '1111100': '?',
    '0000010': '@',
    '1000011': 'A',
    '0100011': 'B',
    '1100010': 'C',
    '0010011': 'D',
    '1010010': 'E',
    '0110010': 'F',
    '1110011': 'G',
    '0001011': 'H',
    '1001010': 'I',
    '0101010': 'J',
    '1101011': 'K',
    '0011010': 'L',
    '1011011': 'M',
    '0111011': 'N',
    '1111010': 'O',
    '0000111': 'P',
    '1000110': 'Q',
    '0100110': 'R',
    '1100111': 'S',
    '0010110': 'T',
    '1010111': 'U',
    '0110111': 'V',
    '1110110': 'W',
    '0001110': 'X',
    '1001111': 'Y',
    '0101111': 'Z',
    '1101110': '[',
    '0011111': '\\',
    '1011110': ']',
    '0111110': '^',
    '1111111': '_',
}).map(([key, value]) => [parseInt(key, 2).toString(), value]));

const track0ISOAlphabetInverted = Object.fromEntries(Object.entries(track0ISOAlphabet).map(([key, value]) => [value, parseInt(key)]));

const track1ISOAlphabet = Object.fromEntries(Object.entries({
    '00001': '0',
    '10000': '1',
    '01000': '2',
    '11001': '3',
    '00100': '4',
    '10101': '5',
    '01101': '6',
    '11100': '7',
    '00010': '8',
    '10011': '9',
    '01011': ':',
    '11010': ';',
    '00111': '<',
    '10110': '=',
    '01110': '>',
    '11111': '?',
}).map(([key, value]) => [parseInt(key, 2).toString(), value]));

const track1ISOAlphabetInverted = Object.fromEntries(Object.entries(track1ISOAlphabet).map(([key, value]) => [value, parseInt(key)]));

const commands = {
    'reset': '1b61',
    'getFirmwareVersion': '1b76',
    'setBPC': '1b6f',
    'setHiCo': '1b78',
    'setLoCo': '1b79',
    'setBPI': '1b62',
    'setLeadingZeros': '1b7a',
    'enableRead': '1b6d',
    'disableRead': '1b61',
    'greenLEDOn': '1b83',
    'redLEDOn': '1b85',
    'powerOff': '1bac',
    'getVoltage': '1ba3',
    'getParameter': '1ba2',
    'getDeviceModel': '1b74',
    'setParameter': '1ba1',
    'enableWrite': '1b6e1b73',
};

// valid BPIs are 75 & 210
const deviceConfig = {
    tracks: [
        {
            bpc: 8,
            bpi: 210,
        },
        {
            bpc: 8,
            bpi: 75,
        },
        {
            bpc: 8,
            bpi: 210,
        },
    ],
    leadingZero210: 61,
    leadingZero75: 22,
    isHiCo: true,
};

module.exports = {
    track0ISOAlphabet,
    track0ISOAlphabetInverted,
    track1ISOAlphabet,
    track1ISOAlphabetInverted,
    commands,
    deviceConfig
};
